!function(l){function e(e){for(var a,t,n=e[0],r=e[1],i=e[2],o=0,s=[];o<n.length;o++)t=n[o],u[t]&&s.push(u[t][0]),u[t]=0;for(a in r)Object.prototype.hasOwnProperty.call(r,a)&&(l[a]=r[a]);for(f&&f(e);s.length;)s.shift()();return c.push.apply(c,i||[]),d()}function d(){for(var e,a=0;a<c.length;a++){for(var t=c[a],n=!0,r=1;r<t.length;r++){var i=t[r];0!==u[i]&&(n=!1)}n&&(c.splice(a--,1),e=o(o.s=t[0]))}return e}var t={},u={0:0},c=[];function o(e){if(t[e])return t[e].exports;var a=t[e]={i:e,l:!1,exports:{}};return l[e].call(a.exports,a,a.exports,o),a.l=!0,a.exports}o.m=l,o.c=t,o.d=function(e,a,t){o.o(e,a)||Object.defineProperty(e,a,{enumerable:!0,get:t})},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(a,e){if(1&e&&(a=o(a)),8&e)return a;if(4&e&&"object"==typeof a&&a&&a.__esModule)return a;var t=Object.create(null);if(o.r(t),Object.defineProperty(t,"default",{enumerable:!0,value:a}),2&e&&"string"!=typeof a)for(var n in a)o.d(t,n,function(e){return a[e]}.bind(null,n));return t},o.n=function(e){var a=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(a,"a",a),a},o.o=function(e,a){return Object.prototype.hasOwnProperty.call(e,a)},o.p="";var a=window.webpackJsonp=window.webpackJsonp||[],n=a.push.bind(a);a.push=e,a=a.slice();for(var r=0;r<a.length;r++)e(a[r]);var f=n;c.push([2,1]),d()}([function(e,a){e.exports=jQuery},function(e,a){e.exports=GravForm},function(e,a,t){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.Instances=void 0;var n,r=t(3),i=(n=r)&&n.__esModule?n:{default:n};t(11),a.Instances=i.default},function(e,a,t){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var n=i(t(4)),r=i(t(9));function i(e){return e&&e.__esModule?e:{default:e}}a.default={FileInstances:n.default,ArrayInstances:r.default}},function(e,v,h){"use strict";(function(o){Object.defineProperty(v,"__esModule",{value:!0}),v.Instances=void 0;var e=function(){function n(e,a){for(var t=0;t<a.length;t++){var n=a[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,a,t){return a&&n(e.prototype,a),t&&n(e,t),e}}();v.UriToMarkdown=function(e){return(e=(e=(e=e.replace(/@3x|@2x|@1x/,"")).replace(/\(/g,"%28")).replace(/\)/g,"%29")).match(/\.(jpe?g|png|gif|svg)$/i)?"![]("+e+")":"["+decodeURI(e)+"]("+e+")"};var s=t(h(0)),l=t(h(6)),a=t(h(8)),d=h(1);function t(e){return e&&e.__esModule?e:{default:e}}var u={dictCancelUpload:d.translations.PLUGIN_FORM.DROPZONE_CANCEL_UPLOAD,dictCancelUploadConfirmation:d.translations.PLUGIN_FORM.DROPZONE_CANCEL_UPLOAD_CONFIRMATION,dictDefaultMessage:d.translations.PLUGIN_FORM.DROPZONE_DEFAULT_MESSAGE,dictFallbackMessage:d.translations.PLUGIN_FORM.DROPZONE_FALLBACK_MESSAGE,dictFallbackText:d.translations.PLUGIN_FORM.DROPZONE_FALLBACK_TEXT,dictFileTooBig:d.translations.PLUGIN_FORM.DROPZONE_FILE_TOO_BIG,dictInvalidFileType:d.translations.PLUGIN_FORM.DROPZONE_INVALID_FILE_TYPE,dictMaxFilesExceeded:d.translations.PLUGIN_FORM.DROPZONE_MAX_FILES_EXCEEDED,dictRemoveFile:d.translations.PLUGIN_FORM.DROPZONE_REMOVE_FILE,dictRemoveFileConfirmation:d.translations.PLUGIN_FORM.DROPZONE_REMOVE_FILE_CONFIRMATION,dictResponseError:d.translations.PLUGIN_FORM.DROPZONE_RESPONSE_ERROR},c={createImageThumbnails:{thumbnailWidth:150},addRemoveLinks:l.default.autoDiscover=!1,dictDefaultMessage:u.dictDefaultMessage,dictRemoveFileConfirmation:u.dictRemoveFileConfirmation,previewTemplate:""};window.EXIF=a.default;var n=function(){function i(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},a=e.container,t=void 0===a?".dropzone.files-upload":a,n=e.options,r=void 0===n?{}:n;!function(e,a){if(!(e instanceof a))throw new TypeError("Cannot call a class as a function")}(this,i),this.container=(0,s.default)(t),this.container.length&&(this.urls={},c.previewTemplate=(0,s.default)("#dropzone-template").html(),this.options=Object.assign({},u,c,{klass:this,url:this.container.data("file-url-add")||d.config.current_url,acceptedFiles:this.container.data("media-types"),init:this.initDropzone},this.container.data("dropzone-options"),r),this.dropzone=new l.default(t,this.options),this.dropzone.on("complete",this.onDropzoneComplete.bind(this)),this.dropzone.on("success",this.onDropzoneSuccess.bind(this)),this.dropzone.on("removedfile",this.onDropzoneRemovedFile.bind(this)),this.dropzone.on("sending",this.onDropzoneSending.bind(this)),this.dropzone.on("error",this.onDropzoneError.bind(this)))}return e(i,[{key:"initDropzone",value:function(){var r=this,e=this.options.klass.container.find("[data-file]"),i=this;e.length&&e.each(function(e,a){var t=(a=(0,s.default)(a)).data("file"),n={name:t.name,size:t.size,type:t.type,status:l.default.ADDED,accepted:!0,url:r.options.url,removeUrl:t.remove};i.files.push(n),i.options.addedfile.call(i,n),n.type.match(/^image\//)&&i.options.thumbnail.call(i,n,t.path),a.remove()})}},{key:"getURI",value:function(){return this.container.data("mediaUri")||""}},{key:"onDropzoneSending",value:function(e,a,t){t.append("__form-name__",this.container.closest("form").find('[name="__form-name__"]').val()),t.append("__form-file-uploader__",1),t.append("name",this.options.dotNotation),t.append("form-nonce",d.config.form_nonce),t.append("task","filesupload"),t.append("uri",this.getURI())}},{key:"onDropzoneSuccess",value:function(e,a,t){if(this.options.reloadPage&&o.location.reload(),a.session){e.sessionParams=a.session,e.removeUrl=this.options.url;var n=this.container.find('[name][type="hidden"]'),r=n.val();n.val(r+" ")}return this.handleError({file:e,data:a,mode:"removeFile",msg:"<p>"+d.translations.PLUGIN_FORM.FILE_ERROR_UPLOAD+" <strong>"+e.name+"</strong></p>\n            <pre>"+a.message+"</pre>"})}},{key:"onDropzoneComplete",value:function(e){if(!e.accepted&&!e.rejected){var a={status:"error",message:d.translations.PLUGIN_FORM.FILE_UNSUPPORTED+": "+e.name.match(/\..+/).join("")};return this.handleError({file:e,data:a,mode:"removeFile",msg:"<p>"+d.translations.PLUGIN_FORM.FILE_ERROR_ADD+" <strong>"+e.name+"</strong></p>\n                <pre>"+a.message+"</pre>"})}this.options.reloadPage&&o.location.reload()}},{key:"onDropzoneRemovedFile",value:function(e){var t=this;if(e.accepted&&!e.rejected){var a=e.removeUrl||this.urls.delete||location.href+".json",n=(a||"").match(/path:(.*)\//),r=new FormData;r.append("filename",e.name),r.append("__form-name__",this.container.closest("form").find('[name="__form-name__"]').val()),r.append("name",this.options.dotNotation),r.append("form-nonce",d.config.form_nonce),r.append("uri",this.getURI()),e.sessionParams&&(r.append("__form-file-remover__","1"),r.append("session",e.sessionParams)),s.default.ajax({url:a,data:r,method:"POST",contentType:!1,processData:!1,success:function(){if(n){n=o.atob(n[1]);var e=t.container.find('[name][type="hidden"]'),a=JSON.parse(e.val()||"{}");delete a[n],e.val(JSON.stringify(a))}}})}}},{key:"onDropzoneError",value:function(e,a,t){var n=t&&a.error?a.error.message:a;return(0,s.default)(e.previewElement).find("[data-dz-errormessage]").html(n),this.handleError({file:e,data:{status:"error"},msg:"<pre>"+n+"</pre>"})}},{key:"handleError",value:function(e){return!0}}]),i}();v.default=n;var i=[],f=(0,s.default)(),r=function(e,a){var t=(0,s.default)(a).find(".dropzone.files-upload");t.length&&t.each(function(e,a){a=(0,s.default)(a),~f.index(a)||p(a)})},p=function(e){var a=(e=(0,s.default)(e)).find('input[type="file"]'),r=e.data("grav-file-settings")||{};r.accept&&~r.accept.indexOf("*")&&(r.accept=[""]);var t={url:e.data("file-url-add")||(e.closest("form").attr("action")||d.config.current_url)+".json",paramName:r.paramName||"file",dotNotation:r.name||"file",acceptedFiles:r.accept?r.accept.join(","):a.attr("accept")||e.data("media-types"),maxFilesize:r.filesize||256,maxFiles:r.limit||null,resizeWidth:r.resizeWidth||null,resizeHeight:r.resizeHeight||null,resizeQuality:r.resizeQuality||null,accept:function(t,e){var n=r.resolution;if(!n)return e();setTimeout(function(){var a="";return n.min&&Object.keys(n.min).forEach(function(e){t[e]<n.min[e]&&(a+=d.translations.PLUGIN_FORM.RESOLUTION_MIN.replace(/{{attr}}/g,e).replace(/{{min}}/g,n.min[e]))}),r.resizeWidth||r.resizeHeight||n.max&&Object.keys(n.max).forEach(function(e){t[e]>n.max[e]&&(a+=d.translations.PLUGIN_FORM.RESOLUTION_MAX.replace(/{{attr}}/g,e).replace(/{{max}}/g,n.max[e]))}),e(a)},50)}};f=f.add(e),e=e[0],i.push(new n({container:e,options:t}))};v.Instances=((0,s.default)(document).ready(function(){(0,s.default)(".dropzone.files-upload").each(function(e,a){return p(a)}),(0,s.default)("body").on("mutation._grav",r)}),i)}).call(this,h(5))},,,,,function(e,a,t){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.Instance=void 0;var n=function(){function n(e,a){for(var t=0;t<a.length;t++){var n=a[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,a,t){return a&&n(e.prototype,a),t&&n(e,t),e}}(),l=i(t(0)),r=i(t(10));function i(e){return e&&e.__esModule?e:{default:e}}function o(e,a){if(!(e instanceof a))throw new TypeError("Cannot call a class as a function")}var s=(0,l.default)("body"),d=function(){function a(e){o(this,a),this.container=(0,l.default)(e),void 0===this.getName()&&(this.container=this.container.closest("[data-grav-array-name]"))}return n(a,[{key:"getName",value:function(){return this.container.data("grav-array-name")||""}},{key:"getKeyPlaceholder",value:function(){return this.container.data("grav-array-keyname")||"Key"}},{key:"getValuePlaceholder",value:function(){return this.container.data("grav-array-valuename")||"Value"}},{key:"isValueOnly",value:function(){return this.container.find('[data-grav-array-mode="value_only"]:first').length||!1}},{key:"isTextArea",value:function(){return this.container.data("grav-array-textarea")||!1}},{key:"shouldBeDisabled",value:function(){var e=this.container.closest(".form-field").find('[data-grav-field="toggleable"] input[type="checkbox"]');return e.length&&e.is(":not(:checked)")}},{key:"getNewRow",value:function(){var e="",a=this.isTextArea()?"<textarea "+(this.shouldBeDisabled()?'disabled="disabled"':"")+' data-grav-array-type="value" name="" placeholder="'+this.getValuePlaceholder()+'"></textarea>':"<input "+(this.shouldBeDisabled()?'disabled="disabled"':"")+' data-grav-array-type="value" type="text" name="" value=""  placeholder="'+this.getValuePlaceholder()+'" />';return this.isValueOnly()?e+='\n            <div class="form-row array-field-value_only" data-grav-array-type="row">\n                <span data-grav-array-action="sort" class="fa fa-bars"></span>\n                '+a+"\n            ":e+='\n            <div class="form-row" data-grav-array-type="row">\n                <span data-grav-array-action="sort" class="fa fa-bars"></span>\n                <input '+(this.shouldBeDisabled()?'disabled="disabled"':"")+' data-grav-array-type="key" type="text" value="" placeholder="'+this.getKeyPlaceholder()+'" />\n                '+a+"\n            ",e+='\n            <span data-grav-array-action="rem" class="fa fa-minus"></span>\n            <span data-grav-array-action="add" class="fa fa-plus"></span>\n        </div>'}}]),a}(),u=function(){function e(){var t=this;o(this,e),s.on("input",'[data-grav-array-type="key"], [data-grav-array-type="value"]',function(e){return t.actionInput(e)}),s.on("click touch",'[data-grav-array-action]:not([data-grav-array-action="sort"])',function(e){return t.actionEvent(e)}),this.arrays=(0,l.default)(),(0,l.default)('[data-grav-field="array"]').each(function(e,a){return t.addArray(a)}),(0,l.default)("body").on("mutation._grav",this._onAddedNodes.bind(this))}return n(e,[{key:"addArray",value:function(e){(e=(0,l.default)(e)).find('[data-grav-array-type="container"]').each(function(e,a){(a=(0,l.default)(a)).data("array-sort")||a[0].hasAttribute("data-array-nosort")||a.data("array-sort",new r.default(a.get(0),{handle:".fa-bars",animation:150}))})}},{key:"actionInput",value:function(e){var a=(0,l.default)(e.target),t=a.data("grav-array-type");this._setTemplate(a);var n=a.data("array-template"),r="key"===t?a:a.siblings('[data-grav-array-type="key"]:first'),i="value"===t?a:a.siblings('[data-grav-array-type="value"]:first'),o=n.isValueOnly()?this.getIndexFor(a):r.val();o=o.toString().replace(/\[/g,"%5B").replace(/]/g,"%5D");var s=n.getName()+"["+o+"]";i.attr("name",i.val()?s:n.getName()),this.refreshNames(n)}},{key:"actionEvent",value:function(e){e&&e.preventDefault();var a=(0,l.default)(e.target),t=a.data("grav-array-action"),n=a.parents('[data-grav-array-type="container"]');this._setTemplate(a),this[t+"Action"](a);var r=n.find("> div");n[1<r.length?"removeClass":"addClass"]("one-child")}},{key:"addAction",value:function(e){var a=e.data("array-template");e.closest('[data-grav-array-type="row"]').after(a.getNewRow())}},{key:"remAction",value:function(e){var a=e.data("array-template"),t=e.closest('[data-grav-array-type="row"]');if(!t.siblings().length){var n=(0,l.default)(a.getNewRow());t.after(n),n.find('[data-grav-array-type="value"]:last').attr("name",a.getName())}t.remove(),this.refreshNames(a)}},{key:"refreshNames",value:function(e){if(e.isValueOnly()){var a=e.container.find('> div > [data-grav-array-type="row"]'),t=a.find('[name]:not([name=""])');t.each(function(e,a){var t=(a=(0,l.default)(a)).attr("name");t=t.replace(/\[\d+\]$/,"["+e+"]"),a.attr("name",t)}),t.length||a.find('[data-grav-array-type="value"]').attr("name",e.getName())}}},{key:"getIndexFor",value:function(e){var a=e.data("array-template"),t=e.closest('[data-grav-array-type="row"]');return a.container.find((a.isValueOnly()?"> div ":"")+' > [data-grav-array-type="row"]').index(t)}},{key:"_setTemplate",value:function(e){e.data("array-template")||e.data("array-template",new d(e.closest("[data-grav-array-name]")))}},{key:"_onAddedNodes",value:function(e,a){var t=this,n=(0,l.default)(a).find('[data-grav-field="array"]');n.length&&n.each(function(e,a){a=(0,l.default)(a),~t.arrays.index(a)||t.addArray(a)})}}]),e}();a.default=u;a.Instance=new u},,function(e,a,t){"use strict";var n,r=t(0),i=(n=r)&&n.__esModule?n:{default:n},o=t(1);(0,i.default)(document).ready(function(){if((0,i.default)("[data-grav-keepalive]").length){var e=o.config.session_timeout/1.5*1e3;setInterval(function(){i.default.ajax({url:o.config.base_url_relative+"/task"+o.config.param_sep+"keep-alive"})},e)}})}]);